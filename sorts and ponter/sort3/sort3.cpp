#include <iostream>
#include <cstdlib>
#include <ctime>
#include <iomanip>
#include <algorithm>
using namespace std;

// ??????? ??? ?????????? ?????? ??????? ??? 1 ?? 20
void fillArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        arr[i] = i + 1;
    }
}

// ??????? ??? ?????????? ????????? ?????? ????????? ????? (?????????????)
void shuffleArray(int arr[], int size) {
    for (int i = size - 1; i > 0; i--) {
        int j = rand() % (i + 1);
        swap(arr[i], arr[j]);
    }
}

// ??????? ??? ?????? ??????? ????? ? ??????
int findPosition(int arr[], int size, int number) {
    for (int i = 0; i < size; i++) {
        if (arr[i] == number) {
            return i;
        }
    }
    return -1; // ???? ????? ?? ????????
}

// ??????? ??? ?????????? ????? ??????? ?? ?????????
void sortLeftDescending(int arr[], int end) {
    for (int i = 0; i < end; i++) {
        for (int j = i + 1; j < end; j++) {
            if (arr[i] < arr[j]) { // ?????????? ?? ?????????
                swap(arr[i], arr[j]);
            }
        }
    }
}

// ??????? ??? ?????????? ?????? ??????? ?? ??????????
void sortRightAscending(int arr[], int start, int size) {
    for (int i = start; i < size - 1; i++) {
        for (int j = i + 1; j < size; j++) {
            if (arr[i] > arr[j]) { // ?????????? ?? ??????????
                swap(arr[i], arr[j]);
            }
        }
    }
}

// ??????? ??? ????????? ??????
void printArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        cout << setw(3) << arr[i];
    }
    cout << endl;
}

int main() {
    srand(time(0)); // ????????????? ?????????? ?????????? ?????

    const int SIZE = 20;
    int arr[SIZE];

    // ?????????? ????? ??????? ??? 1 ?? 20
    fillArray(arr, SIZE);

    // ?????????? ???????? ?????? ????????? ?????
    shuffleArray(arr, SIZE);

    cout << "??????????? ?????: ";
    printArray(arr, SIZE);

    // ????????? ????????? ????? ??? 1 ?? 20
    int randomNumber = rand() % 20 + 1;
    cout << "????????? ?????: " << randomNumber << endl;

    // ????????? ??????? ??????????? ????? ? ??????
    int position = findPosition(arr, SIZE, randomNumber);

    if (position != -1) {
        cout << "??????? ????? " << randomNumber << " ? ??????: " << position << endl;

        // ???????? ???? ??????? ?? ?????????
        sortLeftDescending(arr, position);

        // ???????? ????? ??????? ?? ??????????
        sortRightAscending(arr, position + 1, SIZE);

        cout << "????????????? ?????: ";
        printArray(arr, SIZE);
    }
    else {
        cout << "????? " << randomNumber << " ?? ???????? ? ??????." << endl;
    }

    return 0;
}